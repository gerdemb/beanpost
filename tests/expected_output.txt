           account_change           
------------------------------------
 {"(-300.00,EUR)","(-1505.00,USD)"}
(1 row)

 account_change 
----------------
 {}
(1 row)

                     account_hierarchy_change                     
------------------------------------------------------------------
 {"(-300.00,EUR)","(25,HOOL)","(-1505.00,USD)","(99.5996,VBMPX)"}
(1 row)

 id |    date    | account_id |     amount      | assertion_is_balanced 
----+------------+------------+-----------------+-----------------------
 11 | 2017-01-01 |          2 | (-1505.00,USD)  | t
 12 | 2017-01-01 |          1 | (25,HOOL)       | t
 13 | 2017-01-01 |          1 | (99.5996,VBMPX) | t
(3 rows)

 market_price 
--------------
 (110,JPY)
(1 row)

 market_price  
---------------
 {"(230,JPY)"}
(1 row)

             market_price             
--------------------------------------
 {"(-300.00,EUR)","(240.996000,USD)"}
(1 row)

 id |    date    | account_id | transaction_id | flag |     amount      | price |    cost     | cost_date  | cost_label | matching_lot_id |          posting_balance           
----+------------+------------+----------------+------+-----------------+-------+-------------+------------+------------+-----------------+------------------------------------
  1 | 2015-04-01 |          1 |              3 |      | (25,HOOL)       |       | (23.00,USD) | 2015-04-01 | first-lot  |                 | {"(25,HOOL)"}
  3 | 2015-05-01 |          1 |              5 |      | (35,HOOL)       |       | (27.00,USD) | 2015-05-01 |            |                 | {"(60,HOOL)"}
  5 | 2015-05-15 |          2 |              6 |      | (575.00,USD)    |       |             |            |            |                 | {"(-945.00,USD)"}
  7 | 2015-05-16 |          2 |              7 |      | (540.00,USD)    |       |             |            |            |                 | {"(-405.00,USD)"}
  9 | 2015-06-01 |          1 |              8 |      | (10,HOOL)       |       | (30.00,EUR) | 2015-06-01 |            |                 | {"(25,HOOL)"}
 11 | 2016-07-28 |          1 |              9 |      | (45.0045,VBMPX) |       | (11.11,USD) | 2016-07-28 |            |                 | {"(25,HOOL)","(45.0045,VBMPX)"}
 13 | 2016-10-12 |          1 |             10 |      | (54.5951,VBMPX) |       | (10.99,USD) | 2016-10-12 |            |                 | {"(25,HOOL)","(99.5996,VBMPX)"}
  2 | 2015-04-01 |          2 |              3 |      | (-575.00,USD)   |       |             |            |            |                 | {"(-575.00,USD)"}
  4 | 2015-05-01 |          2 |              5 |      | (-945.00,USD)   |       |             |            |            |                 | {"(-1520.00,USD)"}
  6 | 2015-05-15 |          1 |              6 |      | (-25,HOOL)      |       | (23.00,USD) | 2015-04-01 | first-lot  |               1 | {"(35,HOOL)"}
  8 | 2015-05-16 |          1 |              7 |      | (-20,HOOL)      |       | (27.00,USD) | 2015-05-01 |            |               3 | {"(15,HOOL)"}
 10 | 2015-06-01 |          2 |              8 |      | (-300.00,EUR)   |       |             |            |            |                 | {"(-300.00,EUR)","(-405.00,USD)"}
 12 | 2016-07-28 |          2 |              9 |      | (-500.00,USD)   |       |             |            |            |                 | {"(-300.00,EUR)","(-905.00,USD)"}
 14 | 2016-10-12 |          2 |             10 |      | (-600.00,USD)   |       |             |            |            |                 | {"(-300.00,EUR)","(-1505.00,USD)"}
(14 rows)

 id | flag | payee |                 narration                  | tags | links | transaction_tolerance | transaction_balance | transaction_is_balanced 
----+------+-------+--------------------------------------------+------+-------+-----------------------+---------------------+-------------------------
  3 | *    |       | Buy some shares of Hooli in April          | {}   | {}    | {"(23.00,USD)"}       | {"(0.00,USD)"}      | t
  5 | *    |       | Buy some more shares of Hooli in May       | {}   | {}    | {"(27.00,USD)"}       | {"(0.00,USD)"}      | t
  6 | *    |       | Sell some shares 5/15                      | {}   | {}    | {"(23.00,USD)"}       | {"(0.00,USD)"}      | t
  7 | *    |       | Sell some shares 5/16                      | {}   | {}    | {"(27.00,USD)"}       | {"(0.00,USD)"}      | t
  8 | *    |       | Buy some more shares of Hooli in June      | {}   | {}    | {"(30.00,EUR)"}       | {"(0.00,EUR)"}      | t
  9 | *    |       | Buy some shares of retirement fund in July | {}   | {}    | {"(0.01,USD)"}        | {"(-0.000005,USD)"} | t
 10 | *    |       | Buy some shares of retirement fund in Oct  | {}   | {}    | {"(0.01,USD)"}        | {"(0.000149,USD)"}  | t
(7 rows)

                                                                                                                                                                                        none                                                                                                                                                                                         |                                                                                                                                 strict                                                                                                                                  |                                                       avg                                                        |                                                                                                      fifo                                                                                                       |                                                                                   lifo                                                                                   
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"(1,\"(25,HOOL)\",\"(23.00,USD)\",2015-04-01,first-lot)","(3,\"(35,HOOL)\",\"(27.00,USD)\",2015-05-01,)","(9,\"(10,HOOL)\",\"(30.00,EUR)\",2015-06-01,)","(11,\"(45.0045,VBMPX)\",\"(11.11,USD)\",2016-07-28,)","(13,\"(54.5951,VBMPX)\",\"(10.99,USD)\",2016-10-12,)","(6,\"(-25,HOOL)\",\"(23.00,USD)\",2015-04-01,first-lot)","(8,\"(-20,HOOL)\",\"(27.00,USD)\",2015-05-01,)"} | {"(11,\"(45.0045,VBMPX)\",\"(11.11,USD)\",2016-07-28,)","(13,\"(54.5951,VBMPX)\",\"(10.99,USD)\",2016-10-12,)","(1,\"(0,HOOL)\",\"(23.00,USD)\",2015-04-01,first-lot)","(3,\"(15,HOOL)\",\"(27.00,USD)\",2015-05-01,)","(9,\"(10,HOOL)\",\"(30.00,EUR)\",2015-06-01,)"} | {"(,\"(25,HOOL)\",\"(28.2000000000000000,HOOL)\",,)","(,\"(99.5996,VBMPX)\",\"(11.0442225069176985,VBMPX)\",,)"} | {"(3,\"(15,HOOL)\",\"(27.00,USD)\",2015-05-01,)","(9,\"(10,HOOL)\",\"(30.00,EUR)\",2015-06-01,)","(11,\"(45.0045,VBMPX)\",\"(11.11,USD)\",2016-07-28,)","(13,\"(54.5951,VBMPX)\",\"(10.99,USD)\",2016-10-12,)"} | {"(1,\"(25,HOOL)\",\"(23.00,USD)\",2015-04-01,first-lot)","(13,\"(54.5951,VBMPX)\",\"(10.99,USD)\",2016-10-12,)","(11,\"(45.0045,VBMPX)\",\"(11.11,USD)\",2016-07-28,)"}
(1 row)

